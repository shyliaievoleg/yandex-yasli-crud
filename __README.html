<html>
<head>
    <meta charset="utf-8">
    <title>Домашка - CRUD интерфейс</title>
    <style>
        html {
            font-family: Helvetica, Arial, sans-serif;
        }

        h1, h2, h3, h4 {
            margin-top: 2em;
            border-bottom: 1px solid lightgray
        }
    </style>
</head>
<body>
    <h1>Задача:</h1>
<p>Сверстать CRUD-интерфейс для редактирования базы данных игр.</p>

<p>Есть бекэнд, написанный на php, работающий с "базой данных" на json.</p>

<p>База данных лежит в файле database.json. В файле database.1.json лежит "бекап" - копия начальной базы данных, если что-то пойдет не так, скопируйте оттуда данные в основную БД.</p>

<h2>Ручки, которые предоставляет бекэнд (формат - тип запроса url)</h2>

<h4><strong>GET</strong> /api/list.php</h4>
<p>Просто список всех игр. Никаких настроек/get параметров ручка не принимает.</p>

<h4><strong>GET</strong> /api/get.php</h4>
<pre><strong>id</strong> (число) - идентификатор игры</pre>
<p>Получает информацию об одной игре. Надо передать id - идентификатор игры. Вернет HTTP 404 Not Found, если не передать id или если игра с таким id не найдена.</p>

<h4><strong>POST</strong> /api/add.php</h4>
<pre><strong>title</strong> (строка) - название игры
<strong>platform</strong> (строка) - JSON-строка с массивом платформ, на которых запускается игра
<strong>price</strong> (число) - стоимость игры</pre>
<p>Позволяет добавить игру. Принимает title, platform, price - информацию об игре. При добавлении игры в БД сам генерирует уникальный id и вносит начальную информацию о рейтинге.</p>
<p>Если какие-то данные не переданы, вернет 404.</p>

<h4><strong>POST</strong> /api/edit.php</h4>
<pre><strong>id</strong> (число) - идентификатор игры
<strong>title</strong> (строка) - название игры
<strong>platform</strong> (строка) - JSON-строка с массивом платформ, на которых запускается игра
<strong>price</strong> (число) - стоимость игры</pre>
<p>Позволяет отредактивать игру. Принимает id - идентификатор игры и title, platform, price - информацию об игре. Обратите внимание на то, что будут отредактированы только переданные поля - например, если title не передан, то название останется прежним. Тоже самое касается и прочих полей. Рейтинг и количество голосов отредактировать нельзя.</p>
<p>Вернет 404, если не передан id, или игра с таким id не найдена, а также, если не переданы вообще никакие данные для редактирования.</p>

<h4><strong>POST</strong> /api/delete.php</h4>
<pre><strong>id</strong> (число) - идентификатор игры</pre>
<p>Удаляет игру. Надо передать id - идентификатор игры. Вернет HTTP 404 Not Found, если не передать id или если игра с таким id не найдена.</p>

<h4><strong>POST</strong> /api/vote.php</h4>
<pre><strong>id</strong> (число) - идентификатор игры
<strong>rating</strong> (число) - рейтинг, который выставлен игре</pre>
<p>Позволяет "проголосовать" за игру, выставляя ей рейтинг. Бекэнд в ответ на "голос" пересчитает средний рейтинг и прибавит общее количество голосов.</p>
<p>Надо передать id - идентификатор игры и rating в пределах от 0 до 10. Вернет HTTP 404 Not Found, если не передать id или если игра с таким id не найдена, а также если не передан rating или rating за пределами 0 .. 10.</p>

<h2>Некоторые ремарки.</h2>

<p>Авторизация не нужна, допустим, что мы ее потом прикрутим каким-то дополнительным модулем.</p>
<p>Помните, что в интерфейсе одновременно может работать много пользователей. Например, редактируемую в данный момент игру уже кто-то мог удалить. Или создать ту же самую. Будет просто супер, если вы продумаете коллизии в этом месте.</p>
<p>Несмотря на то, что ручка list всегда отдает весь список игр и не умеет искать/фильтровать, чувствуйте себя свободно насчет того, чтобы на странице showcase реализовывать какие-то подобные фичи, если они вам покажутся уместными.</p>
<p>Любые усовершенствования от классического CRUD набора страниц приветствуются, не забудьте только записать, как вы рассуждали делая то или иное улучшение.</p>
<p>Если вы хотите что-то поменять в бекэнде, базе данных и прочее - не вопрос.</p>
<p>Нашли баг в бекэнде? Пишите в общий чат</p>

<h2>Порядок действий</h2>
<ul>
    <li>Установить OpenServer</li>
    <li>Настоить его так, что бы при запросе http://ваш домен/api/get.php?id=1 вы получали валидный json</li>
    <li>Установить Postman</li>
    <li>Разрабатывать</li>
</ul>

</body>
</html>
